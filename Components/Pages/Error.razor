@page "/Error"
@page "/Error/{errorCode:int}"

@using GimpiesBlazor.Handlers

<PageTitle>Error</PageTitle>

<MudGrid Justify="Justify.Center" AlignItems="AlignItems.Center" Style="height: 100vh;">
    <MudItem xs="12" sm="8" md="6" lg="4">
        <MudPaper Class="pa-4" Elevation="4">
            <MudText Typo="Typo.h4" Align="Align.Center">Foutcode: @errorCode</MudText>
            <MudAlert Severity="Severity.Error" Variant="Variant.Filled" Class="mt-2">
                @_errorMessage
            </MudAlert>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    [Parameter]
    public int errorCode { get; set; }
    private string? _errorMessage;

    protected override void OnInitialized()
    {
        _errorMessage = errorCode > 10 ? ErrorHandler.GetErrorMessage(errorCode) :
            ErrorHandler.GetErrorMessage(ErrorHandler.GetProgramError(errorCode));
    }
}